<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Xenon ELO Boost</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Inter:wght@400;600&display=swap');
        :root { --bg: #050505; --card: #0f0f11; --border: #27272a; --accent: #3b82f6; --text: #ffffff; --gray: #9ca3af; --danger: #ef4444; }
        
        @keyframes rgb-flow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        body { 
            background-color: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; 
            margin: 0; padding: 0; overflow-x: hidden; min-height: 100vh;
            background-image: radial-gradient(circle at 50% 0%, #1e1b4b 0%, #000000 70%);
            background-attachment: fixed;
        }
        .container { padding: 16px; padding-bottom: 90px; }
        
        /* HEADER */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 12px; background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 12px; backdrop-filter: blur(10px); }
        .user-box { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3); background-size: 400% 400%; animation: rgb-flow 8s ease infinite; display: flex; align-items: center; justify-content: center; font-weight: bold; font-family: 'Rajdhani', sans-serif; font-size: 18px; color: #fff; text-transform: uppercase; }
        .user-meta div:first-child { font-weight: 600; font-size: 14px; } 
        .user-meta div:last-child { font-size: 11px; color: var(--gray); }
        
        #back-btn { display: none; font-size: 24px; cursor: pointer; color: var(--accent); margin-right: 10px; transition: 0.2s; }
        
        .hero { text-align: center; margin: 25px 0; transition: 0.3s; }
        .hero h1 { font-family: 'Rajdhani', sans-serif; font-size: 44px; margin: 0; text-transform: uppercase; letter-spacing: 3px; background: linear-gradient(90deg, #3b82f6, #8b5cf6, #00ffff, #3b82f6); background-size: 400%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: rgb-flow 5s linear infinite; }
        .hero p { color: var(--gray); font-size: 13px; margin-top: 5px; }

        /* TABS */
        .nav-tabs { display: flex; background: var(--card); border-radius: 12px; padding: 4px; margin-bottom: 25px; border: 1px solid var(--border); }
        .nav-tab { flex: 1; text-align: center; padding: 10px 5px; font-size: 12px; font-weight: 700; border-radius: 8px; color: var(--gray); cursor: pointer; transition: 0.2s; text-transform: uppercase; }
        .nav-tab.active { background: linear-gradient(90deg, #3b82f6, #8b5cf6); color: white; box-shadow: 0 0 15px rgba(59, 130, 246, 0.4); }

        .view { display: none; animation: fadeIn 0.3s ease; }
        .view.active { display: block; }

        /* SHOP GRID */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .card { background: rgba(15, 15, 17, 0.8); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; position: relative; transition: 0.2s; backdrop-filter: blur(5px); display: flex; flex-direction: column; }
        .card:active { transform: scale(0.98); border-color: var(--accent); }
        .card-img-container { width: 100%; height: 120px; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle at center, rgba(59,130,246,0.1) 0%, rgba(0,0,0,0) 70%); padding-top: 10px;}
        .card-img { width: 80px; height: auto; object-fit: contain; filter: drop-shadow(0 0 10px rgba(255,255,255,0.1)); }
        .card-body { padding: 12px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; text-align: center; }
        .card-title { font-weight: 700; font-size: 16px; color: #fff; margin-bottom: 5px; font-family: 'Rajdhani', sans-serif; text-transform: uppercase; letter-spacing: 1px;}
        .card-price { font-size: 12px; color: var(--accent); font-weight: 700; margin-bottom: 10px; }
        .mini-btn { width: 100%; padding: 8px 0; background: #1f1f22; border: 1px solid #333; border-radius: 8px; color: #fff; font-size: 11px; font-weight: 600; cursor: pointer; transition: 0.2s; }

        /* PROFILE */
        .profile-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 20px; text-align: center; margin-bottom: 20px; }
        .profile-avatar { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 50%; background: linear-gradient(124deg, #3b82f6, #8b5cf6); display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: bold; color: #fff; box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
        .profile-name { font-size: 24px; font-weight: 800; font-family: 'Rajdhani', sans-serif; margin-bottom: 5px; color: #fff; }
        .profile-id { font-size: 12px; color: var(--gray); margin-bottom: 20px; }
        .stats-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .stat-box { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 12px; border: 1px solid var(--border); }
        .stat-val { font-size: 20px; font-weight: 800; color: var(--accent); font-family: 'Rajdhani', sans-serif; }
        .stat-label { font-size: 11px; color: var(--gray); text-transform: uppercase; margin-top: 5px; }

        /* DETAIL VIEW */
        .detail-img-container { width: 100%; height: 180px; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle at center, rgba(59,130,246,0.2) 0%, rgba(0,0,0,0) 70%); margin-bottom: 20px; border-radius: 16px; border: 1px solid var(--border); }
        .detail-img { width: 120px; height: auto; filter: drop-shadow(0 0 20px rgba(59,130,246,0.3)); }
        .detail-title { font-size: 28px; font-weight: 800; color: #fff; margin-bottom: 10px; text-transform: uppercase; font-family: 'Rajdhani', sans-serif; text-align: center; letter-spacing: 2px; }
        .detail-desc { font-size: 13px; color: #d1d5db; line-height: 1.6; margin-bottom: 20px; background: rgba(255,255,255,0.02); padding: 15px; border-radius: 12px; border: 1px solid var(--border); }
        .section-title { font-size: 12px; color: var(--gray); text-transform: uppercase; font-weight: 700; margin-bottom: 10px; letter-spacing: 1px; margin-top: 20px; border-bottom: 1px solid #333; padding-bottom: 5px; }
        .features-list { margin-bottom: 10px; }
        .feature-item { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; font-size: 13px; color: #9ca3af; }
        .feature-icon { color: var(--accent); font-weight: bold; font-size: 16px; }
        .plans-grid { display: grid; grid-template-columns: 1fr; gap: 10px; }
        .plan-card { background: var(--card); border: 1px solid var(--border); padding: 15px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: 0.3s; }
        .plan-card.active { border-color: var(--accent); background: rgba(59, 130, 246, 0.15); box-shadow: 0 0 15px rgba(59, 130, 246, 0.3); }
        .plan-info { text-align: left; }
        .plan-name { font-size: 14px; font-weight: 700; color: #fff; }
        .plan-sub { font-size: 11px; color: #666; margin-top: 2px; }
        .plan-price { font-size: 16px; font-family: 'Rajdhani', sans-serif; color: var(--accent); font-weight: 800; }

        .bottom-back-container { text-align: center; margin-top: 25px; }
        .bottom-back-btn { display: inline-block; padding: 10px 25px; background: #222; border: 1px solid #333; border-radius: 20px; font-weight: 600; font-size: 12px; color: #aaa; cursor: pointer; transition: 0.3s; }
    </style>
</head>
<body>

    <div class="container">
        
        <div class="header">
            <div class="user-box">
                <div id="back-btn" onclick="goBack()">‚Äπ</div>
                <div class="avatar" id="avatar">X</div>
                <div class="user-meta">
                    <div id="username">Guest</div>
                    <div id="userid">Loading...</div>
                </div>
            </div>
            <div style="text-align: right;">
                <div style="color:#10b981; font-size:12px; font-weight:bold;">‚óè Work</div>
                <div style="font-size:10px; color:#666;">Xenon Elo</div>
            </div>
        </div>

        <div id="main-hero" class="hero">
            <h1>XENON ELO</h1>
            <p>Professional Standoff 2 Boosting</p>
        </div>

        <div class="nav-tabs">
            <div class="nav-tab active" id="tab-shop" onclick="switchTab('shop')">–£–°–õ–£–ì–ò</div>
            <div class="nav-tab" id="tab-profile" onclick="switchTab('profile')">–ü–†–û–§–ò–õ–¨</div>
        </div>

        <div id="shop-view" class="view active">
            <div class="grid" id="products-grid"></div>
        </div>

        <div id="profile-view" class="view">
            <div class="profile-card">
                <div class="profile-avatar" id="p-avatar">X</div>
                <div class="profile-name" id="p-name">Guest</div>
                <div class="profile-id" id="p-id">ID: ...</div>
                
                <div class="stats-row">
                    <div class="stat-box">
                        <div class="stat-val" id="p-buys">0</div>
                        <div class="stat-label">–ó–∞–∫–∞–∑–æ–≤</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-val" id="p-spent">0‚ÇΩ</div>
                        <div class="stat-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
                    </div>
                </div>
            </div>
            
            <div class="section-title">–ü–û–î–î–ï–†–ñ–ö–ê</div>
            <div class="card" onclick="window.open('https://t.me/audemaRRa', '_blank')" style="cursor: pointer; padding: 15px; flex-direction: row; align-items: center; gap: 15px;">
                <div style="font-size: 24px;">üë®‚Äçüíª</div>
                <div style="text-align: left;">
                    <div style="font-weight: bold; color: #fff;">–ù–∞–ø–∏—Å–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É</div>
                    <div style="font-size: 11px; color: #888;">–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∑–∞–∫–∞–∑–∞</div>
                </div>
            </div>
        </div>

        <div id="detail-view" class="view">
            <div class="detail-img-container">
                <img id="d-img" src="" class="detail-img">
            </div>
            <div id="d-title" class="detail-title"></div>
            <div id="d-desc" class="detail-desc"></div>
            
            <div class="section-title">–ì–ê–†–ê–ù–¢–ò–ò –ë–£–°–¢–ê</div>
            <div id="d-features" class="features-list"></div>

            <div class="section-title">–í–´–ë–ï–†–ò–¢–ï –ú–ï–¢–û–î –ë–£–°–¢–ê</div>
            <div class="plans-grid" id="plans-grid"></div>

            <div class="bottom-back-container">
                <div class="bottom-back-btn" onclick="goBack()">–í–ï–†–ù–£–¢–¨–°–Ø –í –ö–ê–¢–ê–õ–û–ì</div>
            </div>
        </div>

    </div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    function initData() {
        const urlParams = new URLSearchParams(window.location.search);
        const nameFromUrl = urlParams.get('name');
        const uidFromUrl = urlParams.get('uid');
        const buys = urlParams.get('buys') || '0';
        const spent = urlParams.get('spent') || '0';
        
        if (nameFromUrl) {
            document.getElementById('username').innerText = nameFromUrl;
            document.getElementById('userid').innerText = `ID: ${uidFromUrl}`;
            document.getElementById('avatar').innerText = nameFromUrl[0].toUpperCase();

            document.getElementById('p-name').innerText = nameFromUrl;
            document.getElementById('p-id').innerText = `ID: ${uidFromUrl}`;
            document.getElementById('p-avatar').innerText = nameFromUrl[0].toUpperCase();
            document.getElementById('p-buys').innerText = buys;
            document.getElementById('p-spent').innerText = `${spent}‚ÇΩ`;
        }
    }
    initData();

    // –ü–û–õ–ù–´–ô –°–ü–ò–°–û–ö –¢–û–í–ê–†–û–í –ü–û –§–ê–ô–õ–ê–ú
    const products = [
        { 
            id: 'boost_bronze', 
            name: 'Bronze (–ë—Ä–æ–Ω–∑–∞)', 
            img: 'bronze4.png', 
            short_desc: '–°—Ç–∞—Ä—Ç–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å.',
            full_desc: `–ë—É—Å—Ç –¥–æ —Ä–∞–Ω–≥–∞ <b>Bronze</b>.<br>–°–∞–º–æ–µ –Ω–∞—á–∞–ª–æ –ø—É—Ç–∏. –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –∏ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–≤–∞–Ω–∏–π.`,
            features: ["–ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ", "–î–µ—à–µ–≤–∞—è —Ü–µ–Ω–∞", "–ë–µ–∑ —Ä–∏—Å–∫–∞"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 90 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 50 }
            ]
        },
        { 
            id: 'boost_silver', 
            name: 'Silver (–°–µ—Ä–µ–±—Ä–æ)', 
            img: 'silver4.png', 
            short_desc: '–í—ã—Ö–æ–¥ –∏–∑ –ø–µ—Å–æ—á–Ω–∏—Ü—ã.',
            full_desc: `–ë—É—Å—Ç –¥–æ —Ä–∞–Ω–≥–∞ <b>Silver</b>.<br>–ü–æ–º–æ–∂–µ–º –≤—ã–±—Ä–∞—Ç—å—Å—è —Å–æ –¥–Ω–∞ –∏ –Ω–∞—á–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—É—é –∏–≥—Ä—É.`,
            features: ["Legit –∏–≥—Ä–∞", "–•–æ—Ä–æ—à–∏–π —Å—Ç–∞—Ä—Ç", "–õ—é–±–æ–π –ö/–î"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 150 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 100 }
            ]
        },
        { 
            id: 'boost_gold', 
            name: 'Gold (–ó–æ–ª–æ—Ç–æ)', 
            img: 'gold4.png',
            short_desc: '–ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞.',
            full_desc: `–ë—É—Å—Ç –¥–æ —Ä–∞–Ω–≥–∞ <b>Gold</b>.<br>–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ä–∞–Ω–≥. –ü–æ–ª—É—á–∏—Ç–µ —É–≤–∞–∂–µ–Ω–∏–µ —Å—Ä–µ–¥–∏ –¥—Ä—É–∑–µ–π.`,
            features: ["–°—Ç–∞–±–∏–ª—å–Ω—ã–π –≤–∏–Ω—Ä–µ–π—Ç", "–û–ø—ã—Ç–Ω—ã–µ –±—É—Å—Ç–µ—Ä—ã", "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 250 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 180 }
            ]
        },
        { 
            id: 'boost_phoenix', 
            name: 'Phoenix (–§–µ–Ω–∏–∫—Å)', 
            img: 'phoenix.png',
            short_desc: '–ü—Ä–µ—Å—Ç–∏–∂–Ω—ã–π —Ä–∞–Ω–≥.',
            full_desc: `–ë—É—Å—Ç –¥–æ —Ä–∞–Ω–≥–∞ <b>Phoenix</b>.<br>–°–µ—Ä—å–µ–∑–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä—ã. –¢—Ä–µ–±—É–µ—Ç —Å–∫–∏–ª–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–º.`,
            features: ["–°–∫—Ä–∏–Ω—à–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞", "–í—ã—Å–æ–∫–∏–π —Å–∫–∏–ª–ª", "–ë—ã—Å—Ç—Ä–æ"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 400 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 300 }
            ]
        },
        { 
            id: 'boost_ranger', 
            name: 'Ranger (–†–µ–π–Ω–¥–∂–µ—Ä)', 
            img: 'ranger.png',
            short_desc: '–≠–ª–∏—Ç–∞ –∏–≥—Ä—ã.',
            full_desc: `–ë—É—Å—Ç –¥–æ —Ä–∞–Ω–≥–∞ <b>Ranger</b>.<br>–î–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –∏–≥—Ä–∞—Ç—å —Å —Å–∏–ª—å–Ω—ã–º–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞–º–∏.`,
            features: ["Legit / Rage", "–ì–∞—Ä–∞–Ω—Ç–∏—è –æ—Ç –±–∞–Ω–∞", "VIP –æ—Ç–Ω–æ—à–µ–Ω–∏–µ"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 600 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 450 }
            ]
        },
        { 
            id: 'boost_champion', 
            name: 'Champion (–ß–µ–º–ø–∏–æ–Ω)', 
            img: 'champion.png',
            short_desc: '–ü—Ä–µ–¥-—Ç–æ–ø —É—Ä–æ–≤–µ–Ω—å.',
            full_desc: `–ë—É—Å—Ç –¥–æ —Ä–∞–Ω–≥–∞ <b>Champion</b>.<br>–ü–æ—á—Ç–∏ –≤–µ—Ä—à–∏–Ω–∞. –û—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–π –±—É—Å—Ç.`,
            features: ["–¢–æ–ª—å–∫–æ PRO –±—É—Å—Ç–µ—Ä—ã", "–°—Ç—Ä–∏–º (–ø–æ –∑–∞–ø—Ä–æ—Å—É)", "–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 900 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 700 }
            ]
        },
        { 
            id: 'boost_master', 
            name: 'Master (–ú–∞—Å—Ç–µ—Ä)', 
            img: 'master.png',
            short_desc: '–£—Ä–æ–≤–µ–Ω—å –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç–∞.',
            full_desc: `–ë—É—Å—Ç –¥–æ —Ä–∞–Ω–≥–∞ <b>Master</b>.<br>–ò–≥—Ä–∞ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.`,
            features: ["Rage –±—É—Å—Ç (–±—ã—Å—Ç—Ä–æ)", "Legit –±—É—Å—Ç (–±–µ–∑–æ–ø–∞—Å–Ω–æ)", "–°–≤—è–∑—å —Å –±—É—Å—Ç–µ—Ä–æ–º"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 1300 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 1000 }
            ]
        },
        { 
            id: 'boost_elite', 
            name: 'Elite (–≠–ª–∏—Ç–∞)', 
            img: 'elite.png',
            short_desc: '–°–µ—Ä–µ–±—Ä—è–Ω–∞—è –≠–ª–∏—Ç–∞.',
            full_desc: `–ë—É—Å—Ç –¥–æ <b>Elite</b>.<br>–û–¥–∏–Ω –∏–∑ –≤—ã—Å—à–∏—Ö —Ä–∞–Ω–≥–æ–≤.`,
            features: ["–ü–æ–ª–Ω–∞—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å", "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç", "–õ—é–±—ã–µ –∫–∞–ø—Ä–∏–∑—ã"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 1800 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 1400 }
            ]
        },
        { 
            id: 'boost_legend', 
            name: 'THE LEGEND', 
            img: 'legend.png',
            short_desc: '–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –†–ê–ù–ì.',
            full_desc: `–ë—É—Å—Ç –¥–æ <b>THE LEGEND</b>.<br>–í–µ—Ä—à–∏–Ω–∞ –ø–∏—â–µ–≤–æ–π —Ü–µ–ø–æ—á–∫–∏ Standoff 2.<br>–°–∞–º–∞—è –¥–æ—Ä–æ–≥–∞—è –∏ –ø—Ä–µ—Å—Ç–∏–∂–Ω–∞—è —É—Å–ª—É–≥–∞.`,
            features: ["–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å", "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä", "–¢–æ–ø 1 —Å–µ—Ä–≤–µ—Ä–∞"],
            plans: [
                { label: '–õ–æ–±–±–∏ (–ü–∞—Ç–∏)', sub: '–ò–≥—Ä–∞ —Å –±—É—Å—Ç–µ—Ä–æ–º', price: 3000 },
                { label: '–í—Ö–æ–¥ (–ü–µ—Ä–µ–¥–∞—á–∞)', sub: '–ú—ã –∏–≥—Ä–∞–µ–º –∑–∞ –≤–∞—Å', price: 2200 }
            ]
        }
    ];

    let currentProduct = null;
    let selectedPlan = null;

    window.switchTab = function(tabName) {
        if(tg.HapticFeedback) tg.HapticFeedback.selectionChanged();
        document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));

        document.getElementById(tabName + '-view').classList.add('active');
        document.getElementById('tab-' + tabName).classList.add('active');

        if (tabName !== 'detail') {
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('main-hero').style.display = 'block';
            tg.MainButton.hide();
        }
    }

    function renderShop() {
        const grid = document.getElementById('products-grid');
        grid.innerHTML = '';
        products.forEach(p => {
            const div = document.createElement('div');
            div.className = 'card';
            div.innerHTML = `
                <div class="card-img-container">
                    <img src="${p.img}" class="card-img">
                </div>
                <div class="card-body">
                    <div class="card-title">${p.name}</div>
                    <div class="card-price">–æ—Ç ${p.plans[1].price}‚ÇΩ</div>
                    <div class="mini-btn" onclick="openDetail('${p.id}')">–ó–ê–ö–ê–ó–ê–¢–¨</div>
                </div>
            `;
            grid.appendChild(div);
        });
    }

    function openDetail(id) {
        currentProduct = products.find(x => x.id === id);
        selectedPlan = null;
        tg.MainButton.hide();

        document.getElementById('d-img').src = currentProduct.img;
        document.getElementById('d-title').innerText = currentProduct.name;
        document.getElementById('d-desc').innerHTML = currentProduct.full_desc;

        const featureContainer = document.getElementById('d-features');
        featureContainer.innerHTML = '';
        currentProduct.features.forEach(feat => {
            const el = document.createElement('div');
            el.className = 'feature-item';
            el.innerHTML = `<span class="feature-icon">‚úì</span> ${feat}`;
            featureContainer.appendChild(el);
        });

        const plansContainer = document.getElementById('plans-grid');
        plansContainer.innerHTML = '';
        currentProduct.plans.forEach((plan, index) => {
            const btn = document.createElement('div');
            btn.className = 'plan-card';
            btn.onclick = () => selectPlan(index);
            btn.id = `plan-${index}`;
            btn.innerHTML = `
                <div class="plan-info">
                    <div class="plan-name">${plan.label}</div>
                    <div class="plan-sub">${plan.sub}</div>
                </div>
                <div class="plan-price">${plan.price}‚ÇΩ</div>
            `;
            plansContainer.appendChild(btn);
        });

        document.getElementById('shop-view').classList.remove('active');
        document.getElementById('detail-view').classList.add('active');
        document.getElementById('back-btn').style.display = 'block';
        document.getElementById('main-hero').style.display = 'none';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function selectPlan(index) {
        if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        document.querySelectorAll('.plan-card').forEach(el => el.classList.remove('active'));
        document.getElementById(`plan-${index}`).classList.add('active');
        
        selectedPlan = currentProduct.plans[index];
        tg.MainButton.text = `–ó–ê–ö–ê–ó–ê–¢–¨ –ó–ê ${selectedPlan.price}‚ÇΩ`;
        tg.MainButton.color = "#3b82f6";
        tg.MainButton.textColor = "#fff";
        tg.MainButton.show();
    }

    window.goBack = function() {
        if(tg.HapticFeedback) tg.HapticFeedback.selectionChanged();
        document.getElementById('detail-view').classList.remove('active');
        switchTab('shop');
        document.getElementById('back-btn').style.display = 'none';
        document.getElementById('main-hero').style.display = 'block';
        tg.MainButton.hide();
        currentProduct = null;
        selectedPlan = null;
    }

    tg.MainButton.onClick(() => {
        if (currentProduct && selectedPlan) {
            const finalData = {
                name: `Boost: ${currentProduct.name} (${selectedPlan.label})`,
                price: selectedPlan.price
            };
            tg.sendData(JSON.stringify(finalData));
            setTimeout(() => { tg.close(); }, 100);
        }
    });

    tg.BackButton.onClick(goBack);
    renderShop();
</script>
</body>
</html>
