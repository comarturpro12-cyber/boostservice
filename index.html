<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Xenon ELO Boost</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* ИМПОРТ ШРИФТОВ И ПЕРЕМЕННЫЕ (ОСТАВИЛ КАК БЫЛО) */
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Inter:wght@400;600&display=swap');
        :root { --bg: #050505; --card: #0f0f11; --border: #27272a; --accent: #3b82f6; --text: #ffffff; --gray: #9ca3af; --danger: #ef4444; }
        
        /* АНИМАЦИИ */
        @keyframes rgb-flow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        body { 
            background-color: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; 
            margin: 0; padding: 0; overflow-x: hidden; min-height: 100vh;
            background-image: radial-gradient(circle at 50% 0%, #1e1b4b 0%, #000000 70%);
            background-attachment: fixed;
        }
        .container { padding: 16px; padding-bottom: 90px; }
        
        /* HEADER */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 12px; background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 12px; backdrop-filter: blur(10px); }
        .user-box { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3); background-size: 400% 400%; animation: rgb-flow 8s ease infinite; display: flex; align-items: center; justify-content: center; font-weight: bold; font-family: 'Rajdhani', sans-serif; font-size: 18px; color: #fff; text-transform: uppercase; }
        .user-meta div:first-child { font-weight: 600; font-size: 14px; } 
        .user-meta div:last-child { font-size: 11px; color: var(--gray); }
        
        #back-btn { display: none; font-size: 24px; cursor: pointer; color: var(--accent); margin-right: 10px; transition: 0.2s; }
        
        .hero { text-align: center; margin: 25px 0; transition: 0.3s; }
        .hero h1 { font-family: 'Rajdhani', sans-serif; font-size: 44px; margin: 0; text-transform: uppercase; letter-spacing: 3px; background: linear-gradient(90deg, #3b82f6, #8b5cf6, #00ffff, #3b82f6); background-size: 400%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: rgb-flow 5s linear infinite; }
        .hero p { color: var(--gray); font-size: 13px; margin-top: 5px; }

        /* СЕТКА ТОВАРОВ */
        .view { display: none; animation: fadeIn 0.3s ease; }
        .view.active { display: block; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; } /* Сделал 2 колонки, так красивее для рангов */
        
        /* КАРТОЧКА БУСТА */
        .card { background: rgba(15, 15, 17, 0.8); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; position: relative; transition: 0.2s; backdrop-filter: blur(5px); display: flex; flex-direction: column; }
        .card:active { transform: scale(0.98); border-color: var(--accent); }
        
        .card-img-container { width: 100%; height: 120px; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle at center, rgba(59,130,246,0.1) 0%, rgba(0,0,0,0) 70%); padding-top: 10px;}
        .card-img { width: 80px; height: auto; object-fit: contain; filter: drop-shadow(0 0 10px rgba(255,255,255,0.1)); }
        
        .card-body { padding: 12px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; text-align: center; }
        .card-title { font-weight: 700; font-size: 16px; color: #fff; margin-bottom: 5px; font-family: 'Rajdhani', sans-serif; text-transform: uppercase; letter-spacing: 1px;}
        .card-price { font-size: 12px; color: var(--accent); font-weight: 700; margin-bottom: 10px; }
        
        /* КНОПКА ВНУТРИ КАРТОЧКИ */
        .mini-btn { width: 100%; padding: 8px 0; background: #1f1f22; border: 1px solid #333; border-radius: 8px; color: #fff; font-size: 11px; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .mini-btn:active { background: var(--accent); border-color: var(--accent); }

        /* ДЕТАЛЬНАЯ СТРАНИЦА */
        .detail-img-container { width: 100%; height: 180px; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle at center, rgba(59,130,246,0.2) 0%, rgba(0,0,0,0) 70%); margin-bottom: 20px; border-radius: 16px; border: 1px solid var(--border); }
        .detail-img { width: 120px; height: auto; filter: drop-shadow(0 0 20px rgba(59,130,246,0.3)); }
        
        .detail-title { font-size: 28px; font-weight: 800; color: #fff; margin-bottom: 10px; text-transform: uppercase; font-family: 'Rajdhani', sans-serif; text-align: center; letter-spacing: 2px; }
        .detail-desc { font-size: 13px; color: #d1d5db; line-height: 1.6; margin-bottom: 20px; background: rgba(255,255,255,0.02); padding: 15px; border-radius: 12px; border: 1px solid var(--border); }
        
        .section-title { font-size: 12px; color: var(--gray); text-transform: uppercase; font-weight: 700; margin-bottom: 10px; letter-spacing: 1px; margin-top: 20px; border-bottom: 1px solid #333; padding-bottom: 5px; }
        
        .features-list { margin-bottom: 10px; }
        .feature-item { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; font-size: 13px; color: #9ca3af; }
        .feature-icon { color: var(--accent); font-weight: bold; font-size: 16px; }

        .plans-grid { display: grid; grid-template-columns: 1fr; gap: 10px; }
        .plan-card { background: var(--card); border: 1px solid var(--border); padding: 15px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: 0.3s; }
        .plan-card.active { border-color: var(--accent); background: rgba(59, 130, 246, 0.15); box-shadow: 0 0 15px rgba(59, 130, 246, 0.3); }
        
        .plan-info { text-align: left; }
        .plan-name { font-size: 14px; font-weight: 700; color: #fff; }
        .plan-sub { font-size: 11px; color: #666; margin-top: 2px; }
        .plan-price { font-size: 16px; font-family: 'Rajdhani', sans-serif; color: var(--accent); font-weight: 800; }

        .bottom-back-container { text-align: center; margin-top: 25px; }
        .bottom-back-btn { display: inline-block; padding: 10px 25px; background: #222; border: 1px solid #333; border-radius: 20px; font-weight: 600; font-size: 12px; color: #aaa; cursor: pointer; transition: 0.3s; }
        .bottom-back-btn:active { background: #333; color: #fff; transform: scale(0.95); }

    </style>
</head>
<body>

    <div class="container">
        
        <div class="header">
            <div class="user-box">
                <div id="back-btn" onclick="goBack()">‹</div>
                <div class="avatar" id="avatar">X</div>
                <div class="user-meta">
                    <div id="username">Guest</div>
                    <div id="userid">Loading...</div>
                </div>
            </div>
            <div style="text-align: right;">
                <div style="color:#10b981; font-size:12px; font-weight:bold;">● Work</div>
                <div style="font-size:10px; color:#666;">Xenon Elo</div>
            </div>
        </div>

        <div id="main-hero" class="hero">
            <h1>XENON ELO</h1>
            <p>Professional Standoff 2 Boosting</p>
        </div>

        <div id="shop-view" class="view active">
            <div class="grid" id="products-grid"></div>
        </div>

        <div id="detail-view" class="view">
            <div class="detail-img-container">
                <img id="d-img" src="" class="detail-img">
            </div>
            <div id="d-title" class="detail-title"></div>
            <div id="d-desc" class="detail-desc"></div>
            
            <div class="section-title">ГАРАНТИИ БУСТА</div>
            <div id="d-features" class="features-list"></div>

            <div class="section-title">ВЫБЕРИТЕ МЕТОД БУСТА</div>
            <div class="plans-grid" id="plans-grid"></div>

            <div class="bottom-back-container">
                <div class="bottom-back-btn" onclick="goBack()">ВЕРНУТЬСЯ В КАТАЛОГ</div>
            </div>
        </div>

    </div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    // --- ДАННЫЕ ПОЛЬЗОВАТЕЛЯ ---
    function initData() {
        const urlParams = new URLSearchParams(window.location.search);
        const nameFromUrl = urlParams.get('name');
        const uidFromUrl = urlParams.get('uid');
        
        if (nameFromUrl) {
            document.getElementById('username').innerText = nameFromUrl;
            document.getElementById('userid').innerText = `ID: ${uidFromUrl}`;
            document.getElementById('avatar').innerText = nameFromUrl[0].toUpperCase();
        } else {
            const user = tg.initDataUnsafe.user;
            if (user) {
                document.getElementById('username').innerText = user.first_name;
                document.getElementById('userid').innerText = `ID: ${user.id}`;
                document.getElementById('avatar').innerText = user.first_name[0].toUpperCase();
            }
        }
    }
    initData();

    // --- БАЗА УСЛУГ (БУСТ) ---
    // Использую названия картинок из твоего скрина: ranger.png, elite.png, master.png и т.д.
    const products = [
        { 
            id: 'boost_gold', 
            name: 'Gold (Голд)', 
            img: 'gold4.png',
            short_desc: 'Выход на золото. Быстрый старт.',
            full_desc: `Буст до ранга <b>Gold (Золото)</b>.<br>Идеально для новичков, чтобы выбраться с сильверов.<br><br>Мы играем с легитным софтом, риск бана аккаунта клиента - 0%.`,
            features: ["Legit игра", "Быстрое выполнение (1-2 часа)", "Конфиденциальность"],
            plans: [
                { label: 'Лобби (Вы в пати)', sub: 'Вы играете с нами', price: 150 },
                { label: 'Вход (Передача)', sub: 'Мы играем за вас', price: 100 }
            ]
        },
        { 
            id: 'boost_phoenix', 
            name: 'Phoenix (Феникс)', 
            img: 'phoenix.png',
            short_desc: 'Престижный ранг для уверенных.',
            full_desc: `Буст до ранга <b>Phoenix (Феникс)</b>.<br>Один из самых красивых рангов в игре.<br><br>Гарантируем отсутствие сливов ммр.`,
            features: ["Legit игра", "Играем до результата", "Скриншот по окончанию"],
            plans: [
                { label: 'Лобби (Вы в пати)', sub: 'Вы играете с нами', price: 300 },
                { label: 'Вход (Передача)', sub: 'Мы играем за вас', price: 220 }
            ]
        },
        { 
            id: 'boost_ranger', 
            name: 'Ranger (Рейнджер)', 
            img: 'ranger.png',
            short_desc: 'Высокий скилл. Элита игры.',
            full_desc: `Буст до ранга <b>Ranger (Рейнджер)</b>.<br>Серьезный уровень. Буст выполняется опытными игроками с приватным софтом Xenon.`,
            features: ["Legit игра / Rage (по желанию)", "Высокий винрейт", "Гарантия от бана"],
            plans: [
                { label: 'Лобби (Вы в пати)', sub: 'Вы играете с нами', price: 500 },
                { label: 'Вход (Передача)', sub: 'Мы играем за вас', price: 350 }
            ]
        },
        { 
            id: 'boost_champion', 
            name: 'Champion (Чемпион)', 
            img: 'champion.png',
            short_desc: 'Для настоящих профи.',
            full_desc: `Буст до ранга <b>Champion</b>.<br>Очень сложный ранг, требующий времени.<br><br>⚠️ Рекомендуем метод 'Лобби' для безопасности основного аккаунта.`,
            features: ["Приватный буст", "Игра с топ софтом", "Стриминг в Discord (по запросу)"],
            plans: [
                { label: 'Лобби (Вы в пати)', sub: 'Вы играете с нами', price: 800 },
                { label: 'Вход (Передача)', sub: 'Мы играем за вас', price: 600 }
            ]
        },
        { 
            id: 'boost_master', 
            name: 'Master (Мастер)', 
            img: 'master.png',
            short_desc: 'Предмаксимальный ранг.',
            full_desc: `Буст до ранга <b>Master</b>.<br>Это уже киберспорт. Буст выполняется в Rage режиме для скорости, либо Legit для безопасности.`,
            features: ["Rage/Legit буст", "VIP Подход", "Связь с бустером"],
            plans: [
                { label: 'Лобби (Вы в пати)', sub: 'Вы играете с нами', price: 1200 },
                { label: 'Вход (Передача)', sub: 'Мы играем за вас', price: 900 }
            ]
        },
        { 
            id: 'boost_legend', 
            name: 'Elite (Легенда)', 
            img: 'legend.png', // В твоем скрине файл legend.png, хотя ранг Elite, но оставим как файл
            short_desc: 'МАКСИМАЛЬНЫЙ РАНГ.',
            full_desc: `Буст до <b>ELITE / THE LEGEND</b>.<br>Вершина пищевой цепочки Standoff 2.<br>Самая дорогая и престижная услуга.`,
            features: ["Полная анонимность", "Максимальный приоритет", "Любые капризы"],
            plans: [
                { label: 'Лобби (Вы в пати)', sub: 'Вы играете с нами', price: 2500 },
                { label: 'Вход (Передача)', sub: 'Мы играем за вас', price: 1800 }
            ]
        }
    ];

    let currentProduct = null;
    let selectedPlan = null;

    // --- ОТРИСОВКА КАТАЛОГА ---
    function renderShop() {
        const grid = document.getElementById('products-grid');
        grid.innerHTML = '';
        products.forEach(p => {
            const div = document.createElement('div');
            div.className = 'card';
            div.innerHTML = `
                <div class="card-img-container">
                    <img src="${p.img}" class="card-img">
                </div>
                <div class="card-body">
                    <div class="card-title">${p.name}</div>
                    <div class="card-price">от ${p.plans[1].price}₽</div>
                    <div class="mini-btn" onclick="openDetail('${p.id}')">ЗАКАЗАТЬ</div>
                </div>
            `;
            grid.appendChild(div);
        });
    }

    // --- ОТКРЫТИЕ ДЕТАЛЬНОЙ ---
    function openDetail(id) {
        currentProduct = products.find(x => x.id === id);
        selectedPlan = null;
        tg.MainButton.hide();

        document.getElementById('d-img').src = currentProduct.img;
        document.getElementById('d-title').innerText = currentProduct.name;
        document.getElementById('d-desc').innerHTML = currentProduct.full_desc;

        const featureContainer = document.getElementById('d-features');
        featureContainer.innerHTML = '';
        currentProduct.features.forEach(feat => {
            const el = document.createElement('div');
            el.className = 'feature-item';
            el.innerHTML = `<span class="feature-icon">✓</span> ${feat}`;
            featureContainer.appendChild(el);
        });

        const plansContainer = document.getElementById('plans-grid');
        plansContainer.innerHTML = '';
        currentProduct.plans.forEach((plan, index) => {
            const btn = document.createElement('div');
            btn.className = 'plan-card';
            btn.onclick = () => selectPlan(index);
            btn.id = `plan-${index}`;
            btn.innerHTML = `
                <div class="plan-info">
                    <div class="plan-name">${plan.label}</div>
                    <div class="plan-sub">${plan.sub}</div>
                </div>
                <div class="plan-price">${plan.price}₽</div>
            `;
            plansContainer.appendChild(btn);
        });

        document.getElementById('shop-view').classList.remove('active');
        document.getElementById('detail-view').classList.add('active');
        document.getElementById('back-btn').style.display = 'block';
        document.getElementById('main-hero').style.display = 'none';
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // --- ВЫБОР ТАРИФА ---
    function selectPlan(index) {
        if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        document.querySelectorAll('.plan-card').forEach(el => el.classList.remove('active'));
        document.getElementById(`plan-${index}`).classList.add('active');
        
        selectedPlan = currentProduct.plans[index];
        tg.MainButton.text = `ЗАКАЗАТЬ ЗА ${selectedPlan.price}₽`;
        tg.MainButton.color = "#3b82f6";
        tg.MainButton.textColor = "#fff";
        tg.MainButton.show();
    }

    // --- НАЗАД ---
    window.goBack = function() {
        if(tg.HapticFeedback) tg.HapticFeedback.selectionChanged();
        document.getElementById('detail-view').classList.remove('active');
        document.getElementById('shop-view').classList.add('active');
        
        document.getElementById('back-btn').style.display = 'none';
        document.getElementById('main-hero').style.display = 'block';
        tg.MainButton.hide();
        currentProduct = null;
        selectedPlan = null;
    }

    // --- ОТПРАВКА В БОТА ---
    tg.MainButton.onClick(() => {
        if (currentProduct && selectedPlan) {
            const finalData = {
                // Формат: "Boost: Ranger (Лобби)"
                name: `Boost: ${currentProduct.name} (${selectedPlan.label})`,
                price: selectedPlan.price
            };
            tg.sendData(JSON.stringify(finalData));
            setTimeout(() => { tg.close(); }, 100);
        }
    });

    tg.BackButton.onClick(goBack); // Обработка нативной кнопки назад
    renderShop();

</script>
</body>
</html>
